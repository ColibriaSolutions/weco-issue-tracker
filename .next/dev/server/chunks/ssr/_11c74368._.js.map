{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///G:/SourceCode/WECORelated/weco-issue-tracker/lib/supabase/server.ts"],"sourcesContent":["import { createServerClient as createClient } from '@supabase/ssr'\r\nimport { cookies } from 'next/headers'\r\nimport { Database } from '@/types/supabase'\r\n\r\nexport async function createServerClient() {\r\n  const cookieStore = await cookies()\r\n\r\n  return createClient<Database>(\r\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\r\n    {\r\n      cookies: {\r\n        getAll() {\r\n          return cookieStore.getAll()\r\n        },\r\n        setAll(cookiesToSet) {\r\n          try {\r\n            cookiesToSet.forEach(({ name, value, options }) =>\r\n              cookieStore.set(name, value, options)\r\n            )\r\n          } catch {\r\n            // The `setAll` method was called from a Server Component.\r\n            // This can be ignored if you have middleware refreshing\r\n            // user sessions.\r\n          }\r\n        },\r\n      },\r\n    }\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AAAA;AACA;;;AAGO,eAAe;IACpB,MAAM,cAAc,MAAM,IAAA,yQAAO;IAEjC,OAAO,IAAA,4SAAY,sUAGjB;QACE,SAAS;YACP;gBACE,OAAO,YAAY,MAAM;YAC3B;YACA,QAAO,YAAY;gBACjB,IAAI;oBACF,aAAa,OAAO,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,GAC5C,YAAY,GAAG,CAAC,MAAM,OAAO;gBAEjC,EAAE,OAAM;gBACN,0DAA0D;gBAC1D,wDAAwD;gBACxD,iBAAiB;gBACnB;YACF;QACF;IACF;AAEJ"}},
    {"offset": {"line": 36, "column": 0}, "map": {"version":3,"sources":["file:///G:/SourceCode/WECORelated/weco-issue-tracker/app/actions/auth-actions.ts"],"sourcesContent":["'use server'\r\n\r\nimport { revalidatePath } from 'next/cache'\r\nimport { redirect } from 'next/navigation'\r\nimport { createServerClient } from '@/lib/supabase/server'\r\nimport { z } from 'zod'\r\n\r\nconst authSchema = z.object({\r\n    email: z.string().email(),\r\n    password: z.string().min(6),\r\n})\r\n\r\nexport async function login(formData: FormData) {\r\n    const supabase = await createServerClient()\r\n\r\n    const data = {\r\n        email: formData.get('email') as string,\r\n        password: formData.get('password') as string,\r\n    }\r\n\r\n    const validated = authSchema.safeParse(data)\r\n\r\n    if (!validated.success) {\r\n        return { error: 'Invalid email or password format' }\r\n    }\r\n\r\n    const { error } = await supabase.auth.signInWithPassword(validated.data)\r\n\r\n    if (error) {\r\n        return { error: error.message }\r\n    }\r\n\r\n    revalidatePath('/', 'layout')\r\n    redirect('/')\r\n}\r\n\r\nexport async function signup(formData: FormData) {\r\n    const supabase = await createServerClient()\r\n\r\n    const data = {\r\n        email: formData.get('email') as string,\r\n        password: formData.get('password') as string,\r\n    }\r\n\r\n    const validated = authSchema.safeParse(data)\r\n\r\n    if (!validated.success) {\r\n        return { error: 'Invalid email or password format' }\r\n    }\r\n\r\n    const { error } = await supabase.auth.signUp(validated.data)\r\n\r\n    if (error) {\r\n        return { error: error.message }\r\n    }\r\n\r\n    revalidatePath('/', 'layout')\r\n    redirect('/')\r\n}\r\n\r\nexport async function logout() {\r\n    const supabase = await createServerClient()\r\n    await supabase.auth.signOut()\r\n    revalidatePath('/', 'layout')\r\n    redirect('/login')\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;AAEA;AACA;AAAA;AACA;AACA;;;;;;;AAEA,MAAM,aAAa,yNAAC,CAAC,MAAM,CAAC;IACxB,OAAO,yNAAC,CAAC,MAAM,GAAG,KAAK;IACvB,UAAU,yNAAC,CAAC,MAAM,GAAG,GAAG,CAAC;AAC7B;AAEO,eAAe,MAAM,QAAkB;IAC1C,MAAM,WAAW,MAAM,IAAA,+IAAkB;IAEzC,MAAM,OAAO;QACT,OAAO,SAAS,GAAG,CAAC;QACpB,UAAU,SAAS,GAAG,CAAC;IAC3B;IAEA,MAAM,YAAY,WAAW,SAAS,CAAC;IAEvC,IAAI,CAAC,UAAU,OAAO,EAAE;QACpB,OAAO;YAAE,OAAO;QAAmC;IACvD;IAEA,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,kBAAkB,CAAC,UAAU,IAAI;IAEvE,IAAI,OAAO;QACP,OAAO;YAAE,OAAO,MAAM,OAAO;QAAC;IAClC;IAEA,IAAA,8QAAc,EAAC,KAAK;IACpB,IAAA,gUAAQ,EAAC;AACb;AAEO,eAAe,OAAO,QAAkB;IAC3C,MAAM,WAAW,MAAM,IAAA,+IAAkB;IAEzC,MAAM,OAAO;QACT,OAAO,SAAS,GAAG,CAAC;QACpB,UAAU,SAAS,GAAG,CAAC;IAC3B;IAEA,MAAM,YAAY,WAAW,SAAS,CAAC;IAEvC,IAAI,CAAC,UAAU,OAAO,EAAE;QACpB,OAAO;YAAE,OAAO;QAAmC;IACvD;IAEA,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,MAAM,CAAC,UAAU,IAAI;IAE3D,IAAI,OAAO;QACP,OAAO;YAAE,OAAO,MAAM,OAAO;QAAC;IAClC;IAEA,IAAA,8QAAc,EAAC,KAAK;IACpB,IAAA,gUAAQ,EAAC;AACb;AAEO,eAAe;IAClB,MAAM,WAAW,MAAM,IAAA,+IAAkB;IACzC,MAAM,SAAS,IAAI,CAAC,OAAO;IAC3B,IAAA,8QAAc,EAAC,KAAK;IACpB,IAAA,gUAAQ,EAAC;AACb;;;IArDsB;IAwBA;IAwBA;;AAhDA,8WAAA;AAwBA,8WAAA;AAwBA,8WAAA"}},
    {"offset": {"line": 121, "column": 0}, "map": {"version":3,"sources":["file:///G:/SourceCode/WECORelated/weco-issue-tracker/.next-internal/server/app/login/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {login as '40953ea532d9a9374e9cd0030d3ad0216ae7597243'} from 'ACTIONS_MODULE0'\nexport {signup as '40b8bfef349cbd5d9017a4f7e0f927d031e58600a2'} from 'ACTIONS_MODULE0'\n"],"names":[],"mappings":";AAAA"}}]
}